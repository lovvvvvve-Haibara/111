import{$ as n,r as u}from"./index-qPLI_qMi.js";const f=n("history",()=>{const e=u([]),a=o=>{const t=e.value.findIndex(c=>c.id===o.id);t>=0?e.value[t]=o:(e.value.length>=5&&e.value.shift(),e.value.push(o)),r()},l=o=>{e.value=e.value.filter(t=>t.id!==o),r()},i=()=>{e.value=[],r()},r=()=>{localStorage.setItem("forest_economy_history",JSON.stringify(e.value))},s=()=>{const o=localStorage.getItem("forest_economy_history");if(o)try{e.value=JSON.parse(o)}catch(t){console.error("加载历史记录失败:",t),e.value=[]}};return s(),{chatHistory:e,addHistory:a,removeHistory:l,clearHistory:i,loadFromLocalStorage:s}});export{f as u};
