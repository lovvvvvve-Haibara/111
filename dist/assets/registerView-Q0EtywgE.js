import{_ as g,j as l,i as e,Q as b,f as D,w as C,d as _,K as h,k as f,a1 as m,a2 as c,n,J as a,a3 as v,y as p,e as d}from"./index-qPLI_qMi.js";const P={name:"RegisterView",data(){return{formData:{phone:"",verificationCode:"",username:"",password:"",confirmPassword:""},errors:{phone:"",verificationCode:"",username:"",password:"",confirmPassword:""},cooldown:0,cooldownTimer:null,isSubmitting:!1,showPassword:!1,showConfirmPassword:!1}},computed:{passwordStrength(){const t=this.formData.password;if(!t)return 0;let s=0;return t.length>=8&&s++,/[a-z]/.test(t)&&s++,/[A-Z]/.test(t)&&s++,/[0-9]/.test(t)&&s++,/[^a-zA-Z0-9]/.test(t)&&s++,Math.min(4,s)},passwordStrengthText(){const t=this.passwordStrength;return["弱","一般","良好","强"][Math.min(3,t-1)]||"弱"}},methods:{togglePassword(t){t==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword},validateForm(){let t=!0;for(let u in this.errors)this.errors[u]="";const s=/^1[3-9]\d{9}$/;return this.formData.phone?s.test(this.formData.phone)||(this.errors.phone="请输入有效的手机号码",t=!1):(this.errors.phone="请输入手机号码",t=!1),this.formData.verificationCode?this.formData.verificationCode.length!==6&&(this.errors.verificationCode="验证码应为6位数字",t=!1):(this.errors.verificationCode="请输入验证码",t=!1),this.formData.username?this.formData.username.length<3&&(this.errors.username="用户名长度不能少于3个字符",t=!1):(this.errors.username="请输入用户名",t=!1),this.formData.password?this.formData.password.length<8&&(this.errors.password="密码长度不能少于8个字符",t=!1):(this.errors.password="请设置密码",t=!1),this.formData.confirmPassword?this.formData.confirmPassword!==this.formData.password&&(this.errors.confirmPassword="两次输入的密码不一致",t=!1):(this.errors.confirmPassword="请确认密码",t=!1),t},getVerificationCode(){if(this.cooldown>0)return;const t=/^1[3-9]\d{9}$/;if(this.formData.phone){if(!t.test(this.formData.phone)){this.errors.phone="请输入有效的手机号码";return}}else{this.errors.phone="请输入手机号码";return}this.cooldown=60,this.cooldownTimer=setInterval(()=>{this.cooldown--,this.cooldown<=0&&clearInterval(this.cooldownTimer)},1e3),console.log("获取验证码，手机号:",this.formData.phone),this.$message({type:"success",message:"验证码已发送到您的手机"})},handleRegister(){this.validateForm()&&(this.isSubmitting=!0,console.log("提交注册表单:",this.formData),setTimeout(()=>{this.isSubmitting=!1,this.$message({type:"success",message:"注册成功！"}),setTimeout(()=>{this.goToLogin()},1500)},2e3))},openAgreement(t){const s=t==="terms"?"用户协议":"隐私政策";this.$dialog.alert({title:s,message:`这是${s}的内容...`})},goToLogin(){this.$router.push("/login")}},beforeUnmount(){this.cooldownTimer&&clearInterval(this.cooldownTimer)}},y={class:"register-page"},k={class:"page-content"},x={class:"register-container"},S={class:"back-button-container"},V={class:"form-row"},T={class:"form-group full-width"},R={class:"phone-container"},U=["disabled"],A={key:0,class:"error-message"},M={class:"form-row"},N={class:"form-group full-width"},I={key:0,class:"error-message"},L={class:"form-row"},z={class:"form-group full-width"},B={key:0,class:"error-message"},F={class:"form-row"},Z={class:"form-group half-width"},j={class:"password-input-container"},E=["type"],J={key:0,class:"error-message"},K={class:"form-group half-width"},Q={class:"password-input-container"},q=["type"],G={key:0,class:"error-message"},H={key:0,class:"password-strength"},O={class:"strength-bars"},W={class:"strength-text"},X=["disabled"],Y={key:0,class:"spinner"},$={class:"agreement"},ss={class:"login-link"};function es(t,s,u,os,o,i){const w=_("router-link");return d(),l("div",y,[e("div",k,[s[23]||(s[23]=b('<div class="showcase-container" data-v-8b795e33><div class="logo-section" data-v-8b795e33><span class="logo-icon" data-v-8b795e33>🌿</span><span class="logo-text" data-v-8b795e33>林下经济</span></div><div class="showcase-content" data-v-8b795e33><h2 class="showcase-title" data-v-8b795e33>智能管理林下资源</h2><p class="showcase-description" data-v-8b795e33>提高产量，优化管理，连接市场</p><div class="showcase-features" data-v-8b795e33><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>📊</div><div class="feature-text" data-v-8b795e33>数据可视化分析</div></div><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>🔄</div><div class="feature-text" data-v-8b795e33>一体化资源管理</div></div><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>📱</div><div class="feature-text" data-v-8b795e33>多端同步操作</div></div></div></div><div class="showcase-footer" data-v-8b795e33><p data-v-8b795e33>© 2025 林下经济管理系统 · 所有权利保留</p></div></div>',1)),e("div",x,[e("div",S,[D(w,{to:"/",class:"back-button"},{default:C(()=>s[12]||(s[12]=[e("span",null,"←",-1),p(" 返回主页 ")])),_:1})]),s[22]||(s[22]=e("div",{class:"form-header"},[e("h1",{class:"title"},"创建账户"),e("p",{class:"subtitle"},"注册一个账户以使用林下经济管理系统")],-1)),e("form",{onSubmit:s[11]||(s[11]=h((...r)=>i.handleRegister&&i.handleRegister(...r),["prevent"]))},[e("div",V,[e("div",T,[s[13]||(s[13]=e("label",{class:"form-label"},"手机号码",-1)),e("div",R,[m(e("input",{type:"tel",class:n(["form-input phone-input",{"error-input":o.errors.phone}]),placeholder:"请输入手机号码","onUpdate:modelValue":s[0]||(s[0]=r=>o.formData.phone=r)},null,2),[[c,o.formData.phone]]),e("button",{type:"button",class:"code-button",onClick:s[1]||(s[1]=(...r)=>i.getVerificationCode&&i.getVerificationCode(...r)),disabled:o.cooldown>0},a(o.cooldown>0?`${o.cooldown}秒后重试`:"获取验证码"),9,U)]),o.errors.phone?(d(),l("p",A,a(o.errors.phone),1)):f("",!0)])]),e("div",M,[e("div",N,[s[14]||(s[14]=e("label",{class:"form-label"},"验证码",-1)),m(e("input",{type:"text",class:n(["form-input",{"error-input":o.errors.verificationCode}]),placeholder:"请输入验证码","onUpdate:modelValue":s[2]||(s[2]=r=>o.formData.verificationCode=r)},null,2),[[c,o.formData.verificationCode]]),o.errors.verificationCode?(d(),l("p",I,a(o.errors.verificationCode),1)):f("",!0)])]),e("div",L,[e("div",z,[s[15]||(s[15]=e("label",{class:"form-label"},"用户名",-1)),m(e("input",{type:"text",class:n(["form-input",{"error-input":o.errors.username}]),placeholder:"请设置用户名","onUpdate:modelValue":s[3]||(s[3]=r=>o.formData.username=r)},null,2),[[c,o.formData.username]]),o.errors.username?(d(),l("p",B,a(o.errors.username),1)):f("",!0)])]),e("div",F,[e("div",Z,[s[16]||(s[16]=e("label",{class:"form-label"},"密码",-1)),e("div",j,[m(e("input",{type:o.showPassword?"text":"password",class:n(["form-input",{"error-input":o.errors.password}]),placeholder:"请设置密码","onUpdate:modelValue":s[4]||(s[4]=r=>o.formData.password=r)},null,10,E),[[v,o.formData.password]]),e("span",{class:"password-toggle",onClick:s[5]||(s[5]=r=>i.togglePassword("password"))},a(o.showPassword?"👁️":"👁️‍🗨️"),1)]),o.errors.password?(d(),l("p",J,a(o.errors.password),1)):f("",!0)]),e("div",K,[s[17]||(s[17]=e("label",{class:"form-label"},"确认密码",-1)),e("div",Q,[m(e("input",{type:o.showConfirmPassword?"text":"password",class:n(["form-input",{"error-input":o.errors.confirmPassword}]),placeholder:"请再次输入密码","onUpdate:modelValue":s[6]||(s[6]=r=>o.formData.confirmPassword=r)},null,10,q),[[v,o.formData.confirmPassword]]),e("span",{class:"password-toggle",onClick:s[7]||(s[7]=r=>i.togglePassword("confirm"))},a(o.showConfirmPassword?"👁️":"👁️‍🗨️"),1)]),o.errors.confirmPassword?(d(),l("p",G,a(o.errors.confirmPassword),1)):f("",!0)])]),o.formData.password?(d(),l("div",H,[s[18]||(s[18]=e("div",{class:"strength-label"},"密码强度:",-1)),e("div",O,[e("div",{class:n(["strength-bar",{active:i.passwordStrength>=1}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=2}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=3}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=4}])},null,2)]),e("div",W,a(i.passwordStrengthText),1)])):f("",!0),e("button",{type:"submit",class:"register-button",disabled:o.isSubmitting},[o.isSubmitting?(d(),l("span",Y)):f("",!0),p(" "+a(o.isSubmitting?"注册中...":"注册"),1)],8,X),e("div",$,[s[19]||(s[19]=p(' 点击"注册"，即表示您同意')),e("a",{href:"#",onClick:s[8]||(s[8]=h(r=>i.openAgreement("terms"),["prevent"]))},"《用户协议》"),s[20]||(s[20]=p("和")),e("a",{href:"#",onClick:s[9]||(s[9]=h(r=>i.openAgreement("privacy"),["prevent"]))},"《隐私政策》")]),e("div",ss,[s[21]||(s[21]=p(" 已有账户？")),e("a",{href:"#",onClick:s[10]||(s[10]=h((...r)=>i.goToLogin&&i.goToLogin(...r),["prevent"]))},"立即登录")])],32)])])])}const rs=g(P,[["render",es],["__scopeId","data-v-8b795e33"]]);export{rs as default};
