import{u as $}from"./index-BqCzZp7W.js";import{_ as D,r as L,c as j,u as V,o as q,a as y,w as t,n as b,E as T,b as A,d as G,e as u,f as e,g as P,h as R,i as l,j as c,k as p,l as J,m as K,p as a,q as O,s as Q,t as U,v as W,x as X,y as n,z as Y,A as Z,B as ee,C as te,D as se,F as oe,G as le,H as ae,I as ne,J as ie,K as ue,L as re,M as de,N as ce,O as _e,P as me}from"./index-qPLI_qMi.js";const pe={class:"logo-container"},fe={key:0,class:"logo"},ve={class:"new-project-container"},ye={key:0},ge={key:1,class:"shortcut-hint"},xe={key:0,class:"history-section"},ke={class:"history-list"},be=["onClick"],he={class:"history-item-title"},Ce={key:1,class:"bottom-section"},we={class:"auth-buttons"},Me={class:"content-wrapper"},Be={__name:"LayoutContainer",setup(Ee){const o=L(!1),v=V(),g=A(),f=$(),h=j(()=>(v.path.includes("/resources/"),v.path)),x=()=>{o.value=!o.value,localStorage.setItem("sidebarMinimized",o.value)},C=()=>{g.push({path:"/home",query:{new:Date.now()}})},w=r=>{g.push({path:"/home",query:{historyId:r.id}})},M=r=>{_e.confirm("确定要删除此历史记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{f.removeHistory(r.id),me({type:"success",message:"历史记录已删除"})}).catch(()=>{})};return q(()=>{const r=localStorage.getItem("sidebarMinimized");r!==null&&(o.value=r==="true"),f.loadFromLocalStorage()}),(r,s)=>{const i=K,_=J,d=W,B=te,E=ee,z=de,F=R,I=P,S=G("router-view"),k=T;return u(),y(k,{class:b(["layout-container",{minimized:o.value}])},{default:t(()=>[e(I,{width:o.value?"64px":"230px",class:"aside-container"},{default:t(()=>[e(F,{"default-active":h.value,class:b(["sidebar",{minimized:o.value}]),collapse:o.value,"collapse-transition":!0,"background-color":"#FDFBF7","text-color":"#2B3F2B","active-text-color":"#556B2F",router:""},{default:t(()=>[l("div",pe,[o.value?(u(),y(_,{key:1,type:"text",circle:"",class:"minimize-button centered-button",onClick:x},{default:t(()=>[e(i,null,{default:t(()=>[e(a(O))]),_:1})]),_:1})):(u(),c("div",fe,s[2]||(s[2]=[l("span",{class:"logo-text"},"🌿林下经济",-1)]))),o.value?p("",!0):(u(),y(_,{key:2,type:"text",circle:"",class:"minimize-button",onClick:x},{default:t(()=>[e(i,null,{default:t(()=>[e(a(Q))]),_:1})]),_:1}))]),l("div",ve,[e(_,{class:"new-project-button",type:"primary",plain:"",onClick:C},{default:t(()=>[e(i,null,{default:t(()=>[e(a(U))]),_:1}),o.value?p("",!0):(u(),c("span",ye,"新建项目")),o.value?p("",!0):(u(),c("span",ge))]),_:1})]),e(d,{index:"/home"},{title:t(()=>s[3]||(s[3]=[n("首页")])),default:t(()=>[e(i,null,{default:t(()=>[e(a(X))]),_:1})]),_:1}),e(d,{index:"/community"},{title:t(()=>s[4]||(s[4]=[n("社区")])),default:t(()=>[e(i,null,{default:t(()=>[e(a(Y))]),_:1})]),_:1}),e(d,{index:"/data_dashboard"},{title:t(()=>s[5]||(s[5]=[n("数据看板")])),default:t(()=>[e(i,null,{default:t(()=>[e(a(Z))]),_:1})]),_:1}),e(E,{index:"4"},{title:t(()=>[e(i,null,{default:t(()=>[e(a(se))]),_:1}),s[6]||(s[6]=l("span",null,"资源库",-1))]),default:t(()=>[e(B,null,{default:t(()=>[e(d,{index:"/resources/mushroom"},{default:t(()=>s[7]||(s[7]=[n("林下食用菌培育技术")])),_:1}),e(d,{index:"/resources/economy"},{default:t(()=>s[8]||(s[8]=[n("中国各省林下经济产值")])),_:1}),e(d,{index:"/resources/breeding"},{default:t(()=>s[9]||(s[9]=[n("林下养殖最佳实践案例")])),_:1}),e(d,{index:"/resources/medicine"},{default:t(()=>s[10]||(s[10]=[n("林下药材种植指南")])),_:1}),e(d,{index:"/resources/policy"},{default:t(()=>s[11]||(s[11]=[n("林下经济政策扶持")])),_:1})]),_:1})]),_:1}),e(d,{index:"/data-management"},{title:t(()=>s[12]||(s[12]=[n("数据管理与分析")])),default:t(()=>[e(i,null,{default:t(()=>[e(a(oe))]),_:1})]),_:1}),!o.value&&a(f).chatHistory.length>0?(u(),c("div",xe,[s[13]||(s[13]=l("div",{class:"history-title"},"历史记录",-1)),l("div",ke,[(u(!0),c(le,null,ae(a(f).chatHistory,(m,H)=>(u(),c("div",{key:H,class:"history-item"},[l("div",{class:"history-item-content",onClick:N=>w(m)},[e(i,null,{default:t(()=>[e(a(ne))]),_:1}),l("span",he,ie(m.title),1)],8,be),e(i,{class:"delete-icon",onClick:ue(N=>M(m),["stop"])},{default:t(()=>[e(a(re))]),_:2},1032,["onClick"])]))),128))])])):p("",!0),o.value?p("",!0):(u(),c("div",Ce,[e(z,{class:"upgrade-section",shadow:"never"},{header:t(()=>s[14]||(s[14]=[l("div",{class:"upgrade-title"},"不知道如何使用？",-1)])),default:t(()=>[s[16]||(s[16]=l("div",{class:"upgrade-desc"},[n(" 点击用户手册 "),l("br"),n(" 开始使用先进分析工具和模型。 ")],-1)),e(_,{type:"success",class:"upgrade-button",onClick:s[0]||(s[0]=m=>r.$router.push("/user-manual"))},{default:t(()=>[e(i,null,{default:t(()=>[e(a(ce))]),_:1}),s[15]||(s[15]=n(" 用户手册 "))]),_:1})]),_:1}),l("div",we,[e(_,{type:"primary",class:"auth-button login-button",size:"large",onClick:s[1]||(s[1]=m=>r.$router.push("/login"))},{default:t(()=>s[17]||(s[17]=[n(" 登录 ")])),_:1})])]))]),_:1},8,["default-active","class","collapse"])]),_:1},8,["width"]),e(k,{class:"main-container"},{default:t(()=>[l("div",Me,[e(S)])]),_:1})]),_:1},8,["class"])}}},Ie=D(Be,[["__scopeId","data-v-67b4d9fb"]]);export{Ie as default};
