import{u as D}from"./index-D9L--e6t.js";import{r as L,c as N,h as V,G as y,H as t,D as b,ag as j,z as u,P as e,A as a,y as c,J as p,u as l,L as n,O as q,a6 as T,M as A,V as G}from"./vue-c0ldzDov.js";import{_ as P,u as R,a as J}from"./index-DyS6ZLej.js";import{E as O,a as K,b as Q,c as U,d as W,e as X,f as Y,p as Z,g as ee,h as te,j as se,k as oe,l as ae,m as le,n as ne,s as ie,o as ue,q as re,r as de,t as ce,u as _e,v as me}from"./element-plus-DlfEvqLm.js";const pe={class:"logo-container"},fe={key:0,class:"logo"},ve={class:"new-project-container"},ye={key:0},ge={key:1,class:"shortcut-hint"},ke={key:0,class:"history-section"},xe={class:"history-list"},be=["onClick"],he={class:"history-item-title"},Ce={key:1,class:"bottom-section"},we={class:"auth-buttons"},Me={class:"content-wrapper"},Ee={__name:"LayoutContainer",setup(Be){const o=L(!1),v=R(),g=J(),f=D(),h=N(()=>(v.path.includes("/resources/"),v.path)),k=()=>{o.value=!o.value,localStorage.setItem("sidebarMinimized",o.value)},C=()=>{g.push({path:"/home",query:{new:Date.now()}})},w=r=>{g.push({path:"/home",query:{historyId:r.id}})},M=r=>{_e.confirm("确定要删除此历史记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{f.removeHistory(r.id),me({type:"success",message:"历史记录已删除"})}).catch(()=>{})};return V(()=>{const r=localStorage.getItem("sidebarMinimized");r!==null&&(o.value=r==="true"),f.loadFromLocalStorage()}),(r,s)=>{const i=W,_=U,d=ee,E=le,B=ae,z=de,S=Q,F=K,I=j("router-view"),x=O;return u(),y(x,{class:b(["layout-container",{minimized:o.value}])},{default:t(()=>[e(F,{width:o.value?"64px":"230px",class:"aside-container"},{default:t(()=>[e(S,{"default-active":h.value,class:b(["sidebar",{minimized:o.value}]),collapse:o.value,"collapse-transition":!0,"background-color":"#FDFBF7","text-color":"#2B3F2B","active-text-color":"#556B2F",router:""},{default:t(()=>[a("div",pe,[o.value?(u(),y(_,{key:1,type:"text",circle:"",class:"minimize-button centered-button",onClick:k},{default:t(()=>[e(i,null,{default:t(()=>[e(l(X))]),_:1})]),_:1})):(u(),c("div",fe,s[2]||(s[2]=[a("span",{class:"logo-text"},"🌿林下经济",-1)]))),o.value?p("",!0):(u(),y(_,{key:2,type:"text",circle:"",class:"minimize-button",onClick:k},{default:t(()=>[e(i,null,{default:t(()=>[e(l(Y))]),_:1})]),_:1}))]),a("div",ve,[e(_,{class:"new-project-button",type:"primary",plain:"",onClick:C},{default:t(()=>[e(i,null,{default:t(()=>[e(l(Z))]),_:1}),o.value?p("",!0):(u(),c("span",ye,"新建项目")),o.value?p("",!0):(u(),c("span",ge))]),_:1})]),e(d,{index:"/home"},{title:t(()=>s[3]||(s[3]=[n("首页")])),default:t(()=>[e(i,null,{default:t(()=>[e(l(te))]),_:1})]),_:1}),e(d,{index:"/community"},{title:t(()=>s[4]||(s[4]=[n("社区")])),default:t(()=>[e(i,null,{default:t(()=>[e(l(se))]),_:1})]),_:1}),e(d,{index:"/data_dashboard"},{title:t(()=>s[5]||(s[5]=[n("数据看板")])),default:t(()=>[e(i,null,{default:t(()=>[e(l(oe))]),_:1})]),_:1}),e(B,{index:"4"},{title:t(()=>[e(i,null,{default:t(()=>[e(l(ne))]),_:1}),s[6]||(s[6]=a("span",null,"资源库",-1))]),default:t(()=>[e(E,null,{default:t(()=>[e(d,{index:"/resources/mushroom"},{default:t(()=>s[7]||(s[7]=[n("林下食用菌培育技术")])),_:1}),e(d,{index:"/resources/economy"},{default:t(()=>s[8]||(s[8]=[n("中国各省林下经济产值")])),_:1}),e(d,{index:"/resources/breeding"},{default:t(()=>s[9]||(s[9]=[n("林下养殖最佳实践案例")])),_:1}),e(d,{index:"/resources/medicine"},{default:t(()=>s[10]||(s[10]=[n("林下药材种植指南")])),_:1}),e(d,{index:"/resources/policy"},{default:t(()=>s[11]||(s[11]=[n("林下经济政策扶持")])),_:1})]),_:1})]),_:1}),e(d,{index:"/data-management"},{title:t(()=>s[12]||(s[12]=[n("数据管理与分析")])),default:t(()=>[e(i,null,{default:t(()=>[e(l(ie))]),_:1})]),_:1}),!o.value&&l(f).chatHistory.length>0?(u(),c("div",ke,[s[13]||(s[13]=a("div",{class:"history-title"},"历史记录",-1)),a("div",xe,[(u(!0),c(q,null,T(l(f).chatHistory,(m,H)=>(u(),c("div",{key:H,class:"history-item"},[a("div",{class:"history-item-content",onClick:$=>w(m)},[e(i,null,{default:t(()=>[e(l(ue))]),_:1}),a("span",he,A(m.title),1)],8,be),e(i,{class:"delete-icon",onClick:G($=>M(m),["stop"])},{default:t(()=>[e(l(re))]),_:2},1032,["onClick"])]))),128))])])):p("",!0),o.value?p("",!0):(u(),c("div",Ce,[e(z,{class:"upgrade-section",shadow:"never"},{header:t(()=>s[14]||(s[14]=[a("div",{class:"upgrade-title"},"不知道如何使用？",-1)])),default:t(()=>[s[16]||(s[16]=a("div",{class:"upgrade-desc"},[n(" 点击用户手册 "),a("br"),n(" 开始使用先进分析工具和模型。 ")],-1)),e(_,{type:"success",class:"upgrade-button",onClick:s[0]||(s[0]=m=>r.$router.push("/user-manual"))},{default:t(()=>[e(i,null,{default:t(()=>[e(l(ce))]),_:1}),s[15]||(s[15]=n(" 用户手册 "))]),_:1})]),_:1}),a("div",we,[e(_,{type:"primary",class:"auth-button login-button",size:"large",onClick:s[1]||(s[1]=m=>r.$router.push("/login"))},{default:t(()=>s[17]||(s[17]=[n(" 登录 ")])),_:1})])]))]),_:1},8,["default-active","class","collapse"])]),_:1},8,["width"]),e(x,{class:"main-container"},{default:t(()=>[a("div",Me,[e(I)])]),_:1})]),_:1},8,["class"])}}},He=P(Ee,[["__scopeId","data-v-67b4d9fb"]]);export{He as default};
