import{y as l,A as e,ay as g,P as b,H as D,ag as C,V as h,J as f,I as m,ak as c,D as n,M as a,az as v,L as p,z as d}from"./vue-c0ldzDov.js";import{_}from"./index-DBuZOtR4.js";import"./element-plus-DlfEvqLm.js";const P={name:"RegisterView",data(){return{formData:{phone:"",verificationCode:"",username:"",password:"",confirmPassword:""},errors:{phone:"",verificationCode:"",username:"",password:"",confirmPassword:""},cooldown:0,cooldownTimer:null,isSubmitting:!1,showPassword:!1,showConfirmPassword:!1}},computed:{passwordStrength(){const r=this.formData.password;if(!r)return 0;let s=0;return r.length>=8&&s++,/[a-z]/.test(r)&&s++,/[A-Z]/.test(r)&&s++,/[0-9]/.test(r)&&s++,/[^a-zA-Z0-9]/.test(r)&&s++,Math.min(4,s)},passwordStrengthText(){const r=this.passwordStrength;return["弱","一般","良好","强"][Math.min(3,r-1)]||"弱"}},methods:{togglePassword(r){r==="password"?this.showPassword=!this.showPassword:this.showConfirmPassword=!this.showConfirmPassword},validateForm(){let r=!0;for(let u in this.errors)this.errors[u]="";const s=/^1[3-9]\d{9}$/;return this.formData.phone?s.test(this.formData.phone)||(this.errors.phone="请输入有效的手机号码",r=!1):(this.errors.phone="请输入手机号码",r=!1),this.formData.verificationCode?this.formData.verificationCode.length!==6&&(this.errors.verificationCode="验证码应为6位数字",r=!1):(this.errors.verificationCode="请输入验证码",r=!1),this.formData.username?this.formData.username.length<3&&(this.errors.username="用户名长度不能少于3个字符",r=!1):(this.errors.username="请输入用户名",r=!1),this.formData.password?this.formData.password.length<8&&(this.errors.password="密码长度不能少于8个字符",r=!1):(this.errors.password="请设置密码",r=!1),this.formData.confirmPassword?this.formData.confirmPassword!==this.formData.password&&(this.errors.confirmPassword="两次输入的密码不一致",r=!1):(this.errors.confirmPassword="请确认密码",r=!1),r},getVerificationCode(){if(this.cooldown>0)return;const r=/^1[3-9]\d{9}$/;if(this.formData.phone){if(!r.test(this.formData.phone)){this.errors.phone="请输入有效的手机号码";return}}else{this.errors.phone="请输入手机号码";return}this.cooldown=60,this.cooldownTimer=setInterval(()=>{this.cooldown--,this.cooldown<=0&&clearInterval(this.cooldownTimer)},1e3),console.log("获取验证码，手机号:",this.formData.phone),this.$message({type:"success",message:"验证码已发送到您的手机"})},handleRegister(){this.validateForm()&&(this.isSubmitting=!0,console.log("提交注册表单:",this.formData),setTimeout(()=>{this.isSubmitting=!1,this.$message({type:"success",message:"注册成功！"}),setTimeout(()=>{this.goToLogin()},1500)},2e3))},openAgreement(r){const s=r==="terms"?"用户协议":"隐私政策";this.$dialog.alert({title:s,message:`这是${s}的内容...`})},goToLogin(){this.$router.push("/login")}},beforeUnmount(){this.cooldownTimer&&clearInterval(this.cooldownTimer)}},y={class:"register-page"},k={class:"page-content"},x={class:"register-container"},S={class:"back-button-container"},V={class:"form-row"},T={class:"form-group full-width"},A={class:"phone-container"},M=["disabled"],R={key:0,class:"error-message"},U={class:"form-row"},z={class:"form-group full-width"},I={key:0,class:"error-message"},L={class:"form-row"},N={class:"form-group full-width"},B={key:0,class:"error-message"},F={class:"form-row"},Z={class:"form-group half-width"},E={class:"password-input-container"},H=["type"],J={key:0,class:"error-message"},j={class:"form-group half-width"},q={class:"password-input-container"},G=["type"],K={key:0,class:"error-message"},O={key:0,class:"password-strength"},Q={class:"strength-bars"},W={class:"strength-text"},X=["disabled"],Y={key:0,class:"spinner"},$={class:"agreement"},ss={class:"login-link"};function es(r,s,u,os,o,i){const w=C("router-link");return d(),l("div",y,[e("div",k,[s[23]||(s[23]=g('<div class="showcase-container" data-v-8b795e33><div class="logo-section" data-v-8b795e33><span class="logo-icon" data-v-8b795e33>🌿</span><span class="logo-text" data-v-8b795e33>林下经济</span></div><div class="showcase-content" data-v-8b795e33><h2 class="showcase-title" data-v-8b795e33>智能管理林下资源</h2><p class="showcase-description" data-v-8b795e33>提高产量，优化管理，连接市场</p><div class="showcase-features" data-v-8b795e33><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>📊</div><div class="feature-text" data-v-8b795e33>数据可视化分析</div></div><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>🔄</div><div class="feature-text" data-v-8b795e33>一体化资源管理</div></div><div class="feature-item" data-v-8b795e33><div class="feature-icon" data-v-8b795e33>📱</div><div class="feature-text" data-v-8b795e33>多端同步操作</div></div></div></div><div class="showcase-footer" data-v-8b795e33><p data-v-8b795e33>© 2025 林下经济管理系统 · 所有权利保留</p></div></div>',1)),e("div",x,[e("div",S,[b(w,{to:"/",class:"back-button"},{default:D(()=>s[12]||(s[12]=[e("span",null,"←",-1),p(" 返回主页 ")])),_:1})]),s[22]||(s[22]=e("div",{class:"form-header"},[e("h1",{class:"title"},"创建账户"),e("p",{class:"subtitle"},"注册一个账户以使用林下经济管理系统")],-1)),e("form",{onSubmit:s[11]||(s[11]=h((...t)=>i.handleRegister&&i.handleRegister(...t),["prevent"]))},[e("div",V,[e("div",T,[s[13]||(s[13]=e("label",{class:"form-label"},"手机号码",-1)),e("div",A,[m(e("input",{type:"tel",class:n(["form-input phone-input",{"error-input":o.errors.phone}]),placeholder:"请输入手机号码","onUpdate:modelValue":s[0]||(s[0]=t=>o.formData.phone=t)},null,2),[[c,o.formData.phone]]),e("button",{type:"button",class:"code-button",onClick:s[1]||(s[1]=(...t)=>i.getVerificationCode&&i.getVerificationCode(...t)),disabled:o.cooldown>0},a(o.cooldown>0?`${o.cooldown}秒后重试`:"获取验证码"),9,M)]),o.errors.phone?(d(),l("p",R,a(o.errors.phone),1)):f("",!0)])]),e("div",U,[e("div",z,[s[14]||(s[14]=e("label",{class:"form-label"},"验证码",-1)),m(e("input",{type:"text",class:n(["form-input",{"error-input":o.errors.verificationCode}]),placeholder:"请输入验证码","onUpdate:modelValue":s[2]||(s[2]=t=>o.formData.verificationCode=t)},null,2),[[c,o.formData.verificationCode]]),o.errors.verificationCode?(d(),l("p",I,a(o.errors.verificationCode),1)):f("",!0)])]),e("div",L,[e("div",N,[s[15]||(s[15]=e("label",{class:"form-label"},"用户名",-1)),m(e("input",{type:"text",class:n(["form-input",{"error-input":o.errors.username}]),placeholder:"请设置用户名","onUpdate:modelValue":s[3]||(s[3]=t=>o.formData.username=t)},null,2),[[c,o.formData.username]]),o.errors.username?(d(),l("p",B,a(o.errors.username),1)):f("",!0)])]),e("div",F,[e("div",Z,[s[16]||(s[16]=e("label",{class:"form-label"},"密码",-1)),e("div",E,[m(e("input",{type:o.showPassword?"text":"password",class:n(["form-input",{"error-input":o.errors.password}]),placeholder:"请设置密码","onUpdate:modelValue":s[4]||(s[4]=t=>o.formData.password=t)},null,10,H),[[v,o.formData.password]]),e("span",{class:"password-toggle",onClick:s[5]||(s[5]=t=>i.togglePassword("password"))},a(o.showPassword?"👁️":"👁️‍🗨️"),1)]),o.errors.password?(d(),l("p",J,a(o.errors.password),1)):f("",!0)]),e("div",j,[s[17]||(s[17]=e("label",{class:"form-label"},"确认密码",-1)),e("div",q,[m(e("input",{type:o.showConfirmPassword?"text":"password",class:n(["form-input",{"error-input":o.errors.confirmPassword}]),placeholder:"请再次输入密码","onUpdate:modelValue":s[6]||(s[6]=t=>o.formData.confirmPassword=t)},null,10,G),[[v,o.formData.confirmPassword]]),e("span",{class:"password-toggle",onClick:s[7]||(s[7]=t=>i.togglePassword("confirm"))},a(o.showConfirmPassword?"👁️":"👁️‍🗨️"),1)]),o.errors.confirmPassword?(d(),l("p",K,a(o.errors.confirmPassword),1)):f("",!0)])]),o.formData.password?(d(),l("div",O,[s[18]||(s[18]=e("div",{class:"strength-label"},"密码强度:",-1)),e("div",Q,[e("div",{class:n(["strength-bar",{active:i.passwordStrength>=1}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=2}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=3}])},null,2),e("div",{class:n(["strength-bar",{active:i.passwordStrength>=4}])},null,2)]),e("div",W,a(i.passwordStrengthText),1)])):f("",!0),e("button",{type:"submit",class:"register-button",disabled:o.isSubmitting},[o.isSubmitting?(d(),l("span",Y)):f("",!0),p(" "+a(o.isSubmitting?"注册中...":"注册"),1)],8,X),e("div",$,[s[19]||(s[19]=p(' 点击"注册"，即表示您同意')),e("a",{href:"#",onClick:s[8]||(s[8]=h(t=>i.openAgreement("terms"),["prevent"]))},"《用户协议》"),s[20]||(s[20]=p("和")),e("a",{href:"#",onClick:s[9]||(s[9]=h(t=>i.openAgreement("privacy"),["prevent"]))},"《隐私政策》")]),e("div",ss,[s[21]||(s[21]=p(" 已有账户？")),e("a",{href:"#",onClick:s[10]||(s[10]=h((...t)=>i.goToLogin&&i.goToLogin(...t),["prevent"]))},"立即登录")])],32)])])])}const as=_(P,[["render",es],["__scopeId","data-v-8b795e33"]]);export{as as default};
